{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_usePrevious","_interopRequireDefault","_EmptyDot","_DotUtils","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Dot","props","animVal","useState","Animated","Value","animate","setAnimate","type","setType","getDotStyle","idx","curPage","maxPage","dotColor","setDotColor","activeColor","inactiveColor","prevType","usePrevious","prevDotColor","useEffect","nextType","nextAnimate","size","opacity","setValue","timing","toValue","duration","useNativeDriver","start","animStyle","useMemo","interpolate","inputRange","outputRange","sizeRatio","backgroundColor","width","height","borderRadius","React","createElement","EmptyDot","TouchableOpacity","onPress","_props$onPress","View","style","margin","_default","exports"],"sources":["Dot.js"],"sourcesContent":["/**\n *\n * Created by rouge on 11/09/2019.\n * Converted to Typescript on 14/07/2020.\n * Converted to Functional component. on 21/09/2021\n */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Animated, TouchableOpacity } from 'react-native';\nimport usePrevious from 'react-use/lib/usePrevious';\nimport EmptyDot from './EmptyDot';\nimport { getDotStyle } from '../util/DotUtils';\nconst Dot = (props) => {\n    const [animVal] = useState(new Animated.Value(0));\n    const [animate, setAnimate] = useState(false);\n    const [type, setType] = useState(() => getDotStyle({\n        idx: props.idx,\n        curPage: props.curPage,\n        maxPage: props.maxPage,\n    }));\n    const [dotColor, setDotColor] = useState(() => {\n        if (props.curPage === props.idx) {\n            //its current active page now\n            return props.activeColor;\n        }\n        return props.inactiveColor ?? props.activeColor;\n    });\n    const prevType = usePrevious(type);\n    const prevDotColor = usePrevious(dotColor);\n    useEffect(() => {\n        const nextType = getDotStyle({\n            idx: props.idx,\n            curPage: props.curPage,\n            maxPage: props.maxPage,\n        });\n        const nextAnimate = nextType.size !== (prevType?.size || 3) ||\n            nextType.opacity !== (prevType?.opacity || 0.2);\n        if (props.curPage === props.idx) {\n            setDotColor(props.activeColor);\n        }\n        else {\n            setDotColor(props.inactiveColor ?? props.activeColor);\n        }\n        setType(nextType);\n        setAnimate(nextAnimate);\n    }, [\n        prevType?.opacity,\n        prevType?.size,\n        props.activeColor,\n        props.curPage,\n        props.idx,\n        props.inactiveColor,\n        props.maxPage,\n    ]);\n    useEffect(() => {\n        if (!animate)\n            return;\n        animVal.setValue(0);\n        Animated.timing(animVal, {\n            toValue: 1,\n            duration: 300,\n            useNativeDriver: false,\n        }).start();\n    }, [animVal, animate, prevType, type]);\n    const animStyle = useMemo(() => {\n        const size = animVal.interpolate({\n            inputRange: [0, 1],\n            outputRange: [\n                (prevType?.size || 3) * props.sizeRatio,\n                type.size * props.sizeRatio,\n            ],\n        });\n        const backgroundColor = animVal.interpolate({\n            inputRange: [0, 1],\n            outputRange: [prevDotColor ?? props.activeColor, dotColor],\n        });\n        return {\n            width: size,\n            height: size,\n            backgroundColor,\n            borderRadius: animVal.interpolate({\n                inputRange: [0, 1],\n                outputRange: [\n                    (prevType?.size || 3) * props.sizeRatio * 0.5,\n                    type.size * props.sizeRatio * 0.5,\n                ],\n            }),\n            opacity: animVal.interpolate({\n                inputRange: [0, 1],\n                outputRange: [prevType?.opacity || 0.2, type.opacity],\n            }),\n        };\n    }, [\n        animVal,\n        dotColor,\n        prevDotColor,\n        prevType?.opacity,\n        prevType?.size,\n        props.activeColor,\n        props.sizeRatio,\n        type.opacity,\n        type.size,\n    ]);\n    if (props.curPage < 3) {\n        if (props.idx >= 5)\n            return React.createElement(EmptyDot, { sizeRatio: props.sizeRatio });\n    }\n    else if (props.curPage < 4) {\n        if (props.idx > 5)\n            return React.createElement(EmptyDot, { sizeRatio: props.sizeRatio });\n    }\n    return (React.createElement(TouchableOpacity, { onPress: () => {\n            props.onPress?.(props.idx);\n        } },\n        React.createElement(Animated.View, { style: [\n                {\n                    margin: 3 * props.sizeRatio,\n                },\n                animStyle,\n            ] })));\n};\nexport default Dot;\n"],"mappings":"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","ignoreList":[]}