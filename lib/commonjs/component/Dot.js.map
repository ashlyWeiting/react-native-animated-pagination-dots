{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_usePrevious","_interopRequireDefault","_EmptyDot","_DotUtils","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","Dot","props","animVal","useState","Animated","Value","animate","setAnimate","type","setType","getDotStyle","idx","curPage","maxPage","dotColor","setDotColor","activeColor","inactiveColor","prevType","usePrevious","prevDotColor","useEffect","nextType","nextAnimate","size","opacity","setValue","timing","toValue","duration","useNativeDriver","start","animStyle","useMemo","interpolate","inputRange","outputRange","sizeRatio","backgroundColor","width","height","borderRadius","createElement","TouchableOpacity","getAccessibilityProps","onPress","_props$onPress","View","style","margin","_default","exports"],"sources":["Dot.tsx"],"sourcesContent":["/**\n *\n * Created by rouge on 11/09/2019.\n * Converted to Typescript on 14/07/2020.\n * Converted to Functional component. on 21/09/2021\n */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Animated, TouchableOpacity } from 'react-native';\nimport usePrevious from 'react-use/lib/usePrevious';\nimport EmptyDot from './EmptyDot';\nimport { getDotStyle } from '../util/DotUtils';\nimport { IDotContainerProps } from 'react-native-animated-pagination-dot';\n\nconst Dot: React.FC<\n  {\n    idx: number;\n    curPage: number;\n    maxPage: number;\n    activeColor: string;\n    inactiveColor?: string;\n    sizeRatio: number;\n  } & Pick<IDotContainerProps, 'onPress' | 'getAccessibilityProps'>\n> = (props) => {\n  const [animVal] = useState(new Animated.Value(0));\n  const [animate, setAnimate] = useState(false);\n  const [type, setType] = useState(() =>\n    getDotStyle({\n      idx: props.idx,\n      curPage: props.curPage,\n      maxPage: props.maxPage,\n    })\n  );\n\n  const [dotColor, setDotColor] = useState<string>(() => {\n    if (props.curPage === props.idx) {\n      //its current active page now\n      return props.activeColor;\n    }\n\n    return props.inactiveColor ?? props.activeColor;\n  });\n\n  const prevType = usePrevious(type);\n  const prevDotColor = usePrevious<string>(dotColor);\n\n  useEffect(() => {\n    const nextType = getDotStyle({\n      idx: props.idx,\n      curPage: props.curPage,\n      maxPage: props.maxPage,\n    });\n\n    const nextAnimate =\n      nextType.size !== (prevType?.size || 3) ||\n      nextType.opacity !== (prevType?.opacity || 0.2);\n    if (props.curPage === props.idx) {\n      setDotColor(props.activeColor);\n    } else {\n      setDotColor(props.inactiveColor ?? props.activeColor);\n    }\n\n    setType(nextType);\n    setAnimate(nextAnimate);\n  }, [\n    prevType?.opacity,\n    prevType?.size,\n    props.activeColor,\n    props.curPage,\n    props.idx,\n    props.inactiveColor,\n    props.maxPage,\n  ]);\n\n  useEffect(() => {\n    if (!animate) return;\n\n    animVal.setValue(0);\n    Animated.timing(animVal, {\n      toValue: 1,\n      duration: 300,\n      useNativeDriver: false,\n    }).start();\n  }, [animVal, animate, prevType, type]);\n\n  const animStyle = useMemo(() => {\n    const size = animVal.interpolate({\n      inputRange: [0, 1],\n      outputRange: [\n        (prevType?.size || 3) * props.sizeRatio,\n        type.size * props.sizeRatio,\n      ],\n    });\n\n    const backgroundColor = animVal.interpolate({\n      inputRange: [0, 1],\n      outputRange: [prevDotColor ?? props.activeColor, dotColor],\n    });\n\n    return {\n      width: size,\n      height: size,\n      backgroundColor,\n      borderRadius: animVal.interpolate({\n        inputRange: [0, 1],\n        outputRange: [\n          (prevType?.size || 3) * props.sizeRatio * 0.5,\n          type.size * props.sizeRatio * 0.5,\n        ],\n      }),\n      opacity: animVal.interpolate({\n        inputRange: [0, 1],\n        outputRange: [prevType?.opacity || 0.2, type.opacity],\n      }),\n    };\n  }, [\n    animVal,\n    dotColor,\n    prevDotColor,\n    prevType?.opacity,\n    prevType?.size,\n    props.activeColor,\n    props.sizeRatio,\n    type.opacity,\n    type.size,\n  ]);\n\n  if (props.curPage < 3) {\n    if (props.idx >= 5) return <EmptyDot sizeRatio={props.sizeRatio} />;\n  } else if (props.curPage < 4) {\n    if (props.idx > 5) return <EmptyDot sizeRatio={props.sizeRatio} />;\n  }\n\n  return (\n    <TouchableOpacity\n      {...(props.getAccessibilityProps &&\n        props.getAccessibilityProps(props.idx))}\n      onPress={() => {\n        props.onPress?.(props.idx);\n      }}\n    >\n      <Animated.View\n        style={[\n          {\n            margin: 3 * props.sizeRatio,\n          },\n          animStyle,\n        ]}\n      />\n    </TouchableOpacity>\n  );\n};\n\nexport default Dot;\n"],"mappings":"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","ignoreList":[]}